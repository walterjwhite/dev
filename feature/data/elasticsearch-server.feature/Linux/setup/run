#!/bin/sh

import git:install/download.sh


_ELASTICSEARCH_VERSION=8.2.0
_ELASTICSEARCH_ARCHITECTURE=linux-x86_64

_ELASTICSEARCH_FILENAME=elasticsearch-$_ELASTICSEARCH_VERSION-$_ELASTICSEARCH_ARCHITECTURE.tar.gz
_ELASTICSEARCH_SIGNATURE_FILENAME=elasticsearch-$_ELASTICSEARCH_VERSION-$_ELASTICSEARCH_ARCHITECTURE.tar.gz.sha512

_download https://artifacts.elastic.co/downloads/elasticsearch/$_ELASTICSEARCH_FILENAME
_download https://artifacts.elastic.co/downloads/elasticsearch/$_ELASTICSEARCH_SIGNATURE_FILENAME

_verify $_ELASTICSEARCH_SIGNATURE_FILENAME || return 1

tar -xzf $_ELASTICSEARCH_FILENAME >/dev/null 2>&1

$_SUDO_CMD rm -rf $_CONF_INSTALL_APPLICATION_LIBRARY_PATH/elasticsearch
$_SUDO_CMD mkdir -p $_CONF_INSTALL_APPLICATION_LIBRARY_PATH/elasticsearch
$_SUDO_CMD mv elasticsearch-$_ELASTICSEARCH_VERSION/ $_CONF_INSTALL_APPLICATION_LIBRARY_PATH/elasticsearch/$_ELASTICSEARCH_VERSION
